webpackJsonp([33],{JlO5:function(e,t){},txRQ:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("Dd8w"),s=a.n(n),c=a("NYxO"),i=a("6kks"),o=a("hrUx"),l=a("aM/G"),u=a("pWFc"),r={components:{accountNav:i.a,imageTest:o.a},computed:s()({},Object(c.mapState)({fundPwd:function(e){return e.lang.language.fundPwd}})),data:function(){return{pageTitle:"---",getMessage:"---",accountVal:"",accountPlaceholder:"---",accountType:"_0",accountRemind:!1,accountRemindText:"",showValue:!1,inputVal:"",inputPlaceholder:"---",isError:!1,getBtn:!0,count:"",caseUrl:"",mobileMessage:"---",emailMessage:"---",isGetGo:!0,userId:this.isLogin().id,redir:"back",alertMessage:""}},created:function(){var e=this.fundPwd;this.getMessage=this.fundPwd.title[1],this.pageTitle=e.title[0],this.accountPlaceholder=e.placeholder[1],this.inputPlaceholder=e.placeholder[2],this.mobileMessage=e.alertMessage[0],this.emailMessage=e.alertMessage[1]},methods:{getCodeVal:function(e){this.inputVal=e},accountBlur:function(){""!=this.accountVal?(this.accountRemind=!1,this.accountRemindText=this.fundPwd.remind[1]):(this.accountRemind=!1,this.accountRemindText=this.fundPwd.remind[6])},accountEnter:function(){this.accountRemind=!1,this.accountVal=this.accountVal.replace(/\s+/g,"")},goNext:function(){var e=this,t=this;t.accountBlur(),t.accountVal?Object(l.r)([t.accountType,t.accountVal],t.$refs.next).then(function(a){200===a.code&&a.data?(u.f.set("captcha",e.accountVal),t.$f7router.navigate("/fundPwd/1?redir="+t.redir)):(t.$vn.toast.show(a.message),t.accountRemind=!0)}):t.accountRemind=!0},onConfirm:function(){var e=this,t=this;t.inputVal?Object(l._41)([t.inputVal],t.$refs.getCase).then(function(a){200===a.code&&a.data?1==a.data&&(e.getMessage=e.fundPwd.title[6],t.isGetGo=!1,t.getCase(),t.inputVal="",e.showValue=!1,e.$emit("on-confirm")):(t.caseUrl="/api/user/captcha/image/"+t.userId+"?v="+ +new Date,t.inputVal="",t.isError=!0,t.inputPlaceholder=a.message)}):t.inputPlaceholder=t.fundPwd.placeholder[2]},getCase:function(){var e=this,t=this;Object(l._10)([],t.$refs.getCase).then(function(a){200===a.code&&a.data?(t.accountType="_0",t.alertMessage=t.mobileMessage,"email"==a.data.type&&(t.accountType="_1",t.alertMessage=t.emailMessage),t.$vn.alert.show({text:t.alertMessage}),e.getBtn=!1,t.countDown(t,function(){t.isGetGo=!0,t.getBtn=!0,e.getMessage=t.fundPwd.title[7]})):(t.isGetGo=!0,t.getBtn=!0,e.getMessage=e.fundPwd.title[7],t.$vn.toast.show(a.message))})},popShow:function(){this.caseUrl="api/user/captcha/image/"+this.userId+"?v="+ +new Date,this.isGetGo&&(this.showValue=!0,this.inputVal="")},changeCodeSrc:function(){this.caseUrl="api/user/captcha/image/"+this.userId+"?v="+ +new Date}}},d={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("f7-page",{staticClass:"fundPwd-body"},[a("account-nav",{attrs:{pageTitle:e.pageTitle}}),e._v(" "),a("div",{staticClass:"scroll-body"},[a("div",{staticClass:"main-place"},[a("p",{staticClass:"title"},[e._v(e._s(e.fundPwd.title[10]))]),e._v(" "),a("div",{staticClass:"fund-box"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.getBtn,expression:"getBtn"}],staticClass:"text-btn",on:{click:e.popShow}},[e._v(e._s(e.getMessage))]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.getBtn,expression:"!getBtn"}],staticClass:"text-btn"},[e._v(e._s(e.count)+" s")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.accountVal,expression:"accountVal"}],class:["login-inp",{"error-red":e.accountRemind}],attrs:{type:"tel",maxlength:"6",placeholder:e.accountPlaceholder},domProps:{value:e.accountVal},on:{blur:e.accountBlur,input:[function(t){t.target.composing||(e.accountVal=t.target.value)},e.accountEnter],keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.goNext(t)}}}),e._v(" "),a("div",{staticClass:"error-remind"},[a("span",{directives:[{name:"show",rawName:"v-show",value:e.accountRemind,expression:"accountRemind"}]},[e._v(e._s(e.accountRemindText))])])]),e._v(" "),a("div",{ref:"next",staticClass:"button",on:{click:e.goNext}},[e._v(e._s(e.fundPwd.title[2]))])])]),e._v(" "),a("image-test",{directives:[{name:"show",rawName:"v-show",value:e.showValue,expression:"showValue"}],attrs:{caseUrl:e.caseUrl,isError:e.isError,codeVal:e.inputVal,inputPlaceholder:e.inputPlaceholder},on:{changeCaseUrl:e.changeCodeSrc,onConfirm:e.onConfirm,codeVal:e.getCodeVal}})],1)},staticRenderFns:[]};var h=a("VU/8")(r,d,!1,function(e){a("JlO5")},"data-v-5f4204ca",null);t.default=h.exports}});