webpackJsonp([54],{"9lwd":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s("Dd8w"),a=s.n(r),i=s("NYxO"),n=s("HKXE"),o=s("hrUx"),c=s("aM/G"),l=s("pWFc"),g={components:{IndexHead:n.a,imageTest:o.a},computed:a()({},Object(i.mapState)({register:function(e){return e.lang.language.register}})),data:function(){return{registerCode:l.f.get("registerCode"),registerType:l.f.get("registerType"),registerAccount:l.f.get("registerAccount"),registerPassword:l.f.get("registerPassword"),recommendPholder:"--",getMessage:"---",recommendVal:"",accountVal:"",accountPlaceholder:"--",accountRemind:!1,showValue:!1,inputVal:"",inputPlaceholder:"--",isError:!1,getBtn:!0,count:"",caseUrl:"",mobileMessage:"--",emailMessage:"--",isGetGo:!0,invite:""}},created:function(){var e=this.register.placeholder,t=this.register.alertMessage;this.getMessage=this.register.title[5],this.recommendPholder=e[5],this.accountPlaceholder=e[6],this.inputPlaceholder=e[7],this.mobileMessage=t[0],this.emailMessage=t[1],this.AccountIsBe()},mounted:function(){var e=this;setTimeout(function(){var t=e.$f7router.currentRoute.query;e.invite=t.invite||"",e.invite&&(e.recommendVal=e.invite)},50)},methods:{getCodeVal:function(e){this.inputVal=e},AccountIsBe:function(){this.registerAccount||this.$f7router.navigate("/register")},accountEnter:function(){this.accountRemind=!1,this.accountVal=this.accountVal.replace(/[^\d]/g,"")},recommendInput:function(){this.recommendVal=this.recommendVal.replace(/[^\w]/g,"")},changeCodeImg:function(){this.changeCaseUrl()},goNext:function(){var e=this;if(e.accountVal){var t={countryCode:e.registerCode,mobile:e.registerAccount,password:e.registerPassword,captcha:e.accountVal,referrer:e.recommendVal},s={countryCode:e.registerCode,email:e.registerAccount,password:e.registerPassword,captcha:e.accountVal,referrer:e.recommendVal};"_0"==e.registerType?Object(c._20)(e.$refs.register,t).then(function(t){200===t.code&&t.data?e.registerOk(e):e.$vn.toast.show(t.message)}):Object(c.C)(e.$refs.register,s).then(function(t){200===t.code&&t.data?e.registerOk(e):e.$vn.toast.show(t.message)})}else e.accountRemind=!0},registerOk:function(e){e.$vn.toast.show({text:this.register.alertMessage[5],onHide:function(){l.f.remove("registerType"),l.f.remove("registerAccount"),l.f.remove("registerPassword"),e.$f7router.navigate("/login")}})},onConfirm:function(){var e=this,t=this;t.inputVal?Object(c.t)([t.registerAccount,t.inputVal]).then(function(s){t.isGetGo=!1,200===s.code&&s.data?1==s.data&&(e.getMessage=e.register.title[9],t.isGetGo=!1,t.getCase(),t.inputVal="",t.showValue=!1,t.$emit("on-confirm")):("_0"==t.registerType?t.caseUrl="/api/user/captcha/image/mobile/"+t.registerAccount+"?v="+ +new Date:t.caseUrl="/api/user/captcha/image/email/"+t.registerAccount+"?v="+ +new Date,t.inputVal="",t.isError=!0,t.inputPlaceholder=s.message)}):t.inputPlaceholder=t.register.placeholder[7]},popShow:function(){this.changeCaseUrl(),this.isGetGo&&(this.showValue=!0,this.inputVal="")},getCase:function(){var e=this,t=this;"_0"==t.registerType?Object(c.Q)(t.$refs.getCase,{mobile:t.registerAccount,areaCode:t.registerCode}).then(function(e){200===e.code&&e.data?t.$vn.alert.show({text:t.mobileMessage,onHide:function(){t.getBtn=!1,t.countDown(t,function(){t.getMessage=t.register.title[10],t.isGetGo=!0,t.getBtn=!0})}}):(t.getMessage=t.register.title[10],t.isGetGo=!0,t.getBtn=!0,t.$vn.toast.show(e.message))}):Object(c.I)(t.$refs.getCase,{email:t.registerAccount}).then(function(s){200===s.code&&s.data?t.$vn.alert.show({text:t.emailMessage,onHide:function(){t.getBtn=!1,t.countDown(t,function(){t.getMessage=t.register.title[10],t.isGetGo=!0,t.getBtn=!0})}}):(e.getMessage=e.register.title[10],t.isGetGo=!0,t.getBtn=!0,t.$vn.toast.show(s.message))})},changeCaseUrl:function(){"_0"==this.registerType?this.caseUrl="/api/user/captcha/image/mobile/"+this.registerAccount+"?v="+ +new Date:"_1"==this.registerType&&(this.caseUrl="/api/user/captcha/image/email/"+this.registerAccount+"?v="+ +new Date)}}},u={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("f7-page",{staticClass:"register-body"},[s("index-head"),e._v(" "),s("div",{staticClass:"scroll-body"},[s("div",{staticClass:"main-place"},[s("f7-block",{staticClass:"register-link"},[s("f7-link",{attrs:{href:"/login"}},[e._v(e._s(e.register.title[0]))])],1),e._v(" "),s("h1",{staticClass:"title"},[e._v(e._s(e.register.title[1]))]),e._v(" "),s("div",{staticClass:"message-box"},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.getBtn,expression:"getBtn"}],staticClass:"text-btn",on:{click:e.popShow}},[e._v(e._s(e.getMessage))]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!e.getBtn,expression:"!getBtn"}],staticClass:"text-btn"},[e._v(e._s(e.count)+" s")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.accountVal,expression:"accountVal"}],class:["login-inp",{"error-red":e.accountRemind}],attrs:{type:"tel",maxlength:"6",placeholder:e.accountPlaceholder},domProps:{value:e.accountVal},on:{input:[function(t){t.target.composing||(e.accountVal=t.target.value)},e.accountEnter],keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.goNext(t)}}}),e._v(" "),s("div",{staticClass:"error-remind"},[s("span",{directives:[{name:"show",rawName:"v-show",value:e.accountRemind,expression:"accountRemind"}]},[e._v(e._s(e.register.remind[2]))])]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.recommendVal,expression:"recommendVal"}],staticClass:"recommend-inp",attrs:{type:"text",maxlength:"8",placeholder:e.recommendPholder},domProps:{value:e.recommendVal},on:{input:[function(t){t.target.composing||(e.recommendVal=t.target.value)},e.recommendInput],keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.goNext(t)}}}),e._v(" "),s("div",{staticClass:"error-remind"},[s("span",{directives:[{name:"show",rawName:"v-show",value:e.accountRemind,expression:"accountRemind"}]})])]),e._v(" "),s("div",{ref:"register",staticClass:"button",on:{click:e.goNext}},[e._v(e._s(e.register.title[1]))]),e._v(" "),s("p",{staticClass:"explain"},[e._v(e._s(e.register.title[6])),e._v(" “\n                "),s("a",{staticClass:"explain-link",attrs:{href:"/register/agreement"}},[e._v(e._s(e.register.title[7])+"\n                    ")]),e._v("\n                ”\n            ")])],1)]),e._v(" "),s("image-test",{directives:[{name:"show",rawName:"v-show",value:e.showValue,expression:"showValue"}],attrs:{caseUrl:e.caseUrl,isError:e.isError,codeVal:e.inputVal,inputPlaceholder:e.inputPlaceholder},on:{changeCaseUrl:e.changeCodeImg,onConfirm:e.onConfirm,codeVal:e.getCodeVal}})],1)},staticRenderFns:[]};var d=s("VU/8")(g,u,!1,function(e){s("oDaw")},"data-v-2cf21cb9",null);t.default=d.exports},oDaw:function(e,t){}});