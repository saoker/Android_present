webpackJsonp([21],{KhFO:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i=e("Dd8w"),a=e.n(i),n=e("NYxO"),o=e("+X9N"),c=e("SbtJ"),r=e("ipgl"),l=e("g5qD"),h=e("aM/G"),u={zh:"CNY",ct:"USD",en:"USD",vi:"USD"},d={components:{TradeHead:o.a,IndexMenu:c.a},computed:a()({},Object(n.mapState)({tradeList:function(t){return t.lang.language.tradeList},searchPhd:function(t){return t.lang.language.tradeList.html[4]},textUint:function(t){return t.lang.language.tradeList.html[1]},market:function(t){return t.lang.language.common.market}})),data:function(){return{menuShow:!1,baseShow:!1,hasLogin:"",unit:"",marketList:[],markObj:{},markList:[],coinList:[],myOptList:[],searchVal:"",indexofVal:"",moneyRate:1,baseList:[],baseCoinList:[],tradePrecis:{},zones:{},zone:"global",moneyPrecis:r.e,moneyUnit:"",searchTimer:null}},watch:{menuShow:function(){this.menuShow&&(this.baseShow=!1)}},filters:{codeFist:function(t){return t?(t=t.split("_"))[2]:"---"},codeNext:function(t){return t?(t=t.split("_"))[1]:"---"}},created:function(){this.moneyUnit=u[this.langType],this.getPoint();var t=this.isLogin();this.hasLogin=!!t,this.hasLogin&&(this.userCode=t.code,this.getOptList())},mounted:function(){this.timedTask()},methods:{codeFist:function(t){return t?(t=t.split("_"))[2]:"---"},searchChange:function(){this.searchVal=this.$refs.searchBox.value.replace(/\s+/gi,""),this.$refs.searchBox.value=this.searchVal,this.searchCoin()},searchCoin:function(){var t=this;this.searchVal?(clearTimeout(this.searchTimer),this.searchTimer=setTimeout(function(){t.indexofVal=t.searchVal.toLocaleUpperCase()},300)):this.indexofVal=""},toggleMenu:function(){this.menuShow=!this.menuShow},changeBaseShow:function(){this.baseShow=!this.baseShow,this.menuShow=!1},zoneChange:function(t){this.zone!==t&&(this.zone=t,this.searchVal="",this.indexofVal="",this.$refs.searchBox.value="",this.coinList=this.markObj[this.zone][this.unit]||[])},changeBase:function(t){this.unit!==t&&(this.unit=t,this.searchVal="",this.indexofVal="",this.$refs.searchBox.value="",this.coinList=this.markObj[this.zone][this.unit]||[])},getOptList:function(){var t=this;Object(h.V)({userCode:this.userCode}).then(function(s){200===s.code&&s.data&&(t.myOptList=s.data,t.marketGroup(t.markList))})},coinType:function(t,s){return(t=t||"").split("_")[s]||""},getBaseCoinList:function(){var t=this;Object(l.e)().then(function(s){t.baseList=s,t.unit=t.baseList[0],t.getMoneyRate(),t.getAllcoin()}).catch(function(){})},marketGroup:function(t){var s=this;this.markList=t,this.markObj={global:{my:[]},asia:{my:[]}},this.baseList.forEach(function(t){s.markObj.global[t]=[],s.markObj.asia[t]=[]}),t.forEach(function(t){s.myOptList.indexOf(t.code)>=0?t.isMyOpt=!0:t.isMyOpt=!1,s.preventError(s.tradePrecis,t.code),t.precis=s.tradePrecis[t.code].price,t.rising=s.floatNum(100*s.div(s.minus(t.price,t.refPrice),t.refPrice),2);var e=s.coinType(t.code,1);s.zones.asia&&s.zones.asia.indexOf(t.code)>=0?t.zone="asia":t.zone="global",s.markObj[t.zone][e]&&s.markObj[t.zone][e].push(t),s.myOptList.indexOf(t.code)>=0&&s.markObj[t.zone].my.push(t)}),this.coinList=this.markObj[this.zone][this.unit]||[],this.isMyOpt=this.myOptList.indexOf(this.code)>=0},getAllcoin:function(){var t=this;Object(l.a)(!0).then(function(s){t.marketGroup(s)})},getPoint:function(){var t=this;Object(l.c)().then(function(s){t.tradePrecis=s||{},t.zones=s.zones,t.getBaseCoinList()})},getMoneyRate:function(){var t=this;Object(h.S)().then(function(s){200===s.code&&s.data&&(t.moneyRate=s.data[t.unit+"_"+t.moneyUnit]||1)})},linkUrl:function(t){var s=t.code.split("_");return"/tradeChart?coinName="+s[2]+"&exchange="+s[0]+"&unit="+s[1]+"&my="+this.unit},timedTask:function(){var t=this;r.k&&(clearInterval(this.timer),this.timer=setInterval(function(){t.getMoneyRate(),t.getAllcoin()},r.l))}},beforeDestroy:function(){clearInterval(this.timer),this.timer=""}},m={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("f7-page",{staticClass:"trade-body"},[e("header",{staticClass:"tradeList-header"},[e("div",{staticClass:"trade-back",on:{click:function(s){t.goBack()}}},[e("i",{staticClass:"icon-back-up"})]),t._v(" "),e("div",{staticClass:"base-List",on:{click:t.changeBaseShow}},[e("span",{staticClass:"base-text",domProps:{textContent:t._s("my"===t.unit?"+"+t.textUint:t.unit)}}),t._v(" "),e("i",{class:{up:t.baseShow}})]),t._v(" "),e("div",{staticClass:"menu-box",on:{click:t.toggleMenu}},[e("i",{staticClass:"icon-menu"})]),t._v(" "),e("index-menu",{model:{value:t.menuShow,callback:function(s){t.menuShow=s},expression:"menuShow"}}),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.baseShow,expression:"baseShow"}],staticClass:"basemark",on:{click:t.changeBaseShow}},[e("div",{staticClass:"trade-base-list"},[e("h6",{staticClass:"base-title"},[t._v("\n                    "+t._s(t.tradeList.html[0]))]),t._v(" "),e("div",{staticClass:"base-listes"},[e("span",{directives:[{name:"show",rawName:"v-show",value:t.hasLogin,expression:"hasLogin"}],staticClass:"base-list-text base-first",class:{"base-on":"my"===t.unit},on:{click:function(s){t.changeBase("my")}}},[t._v("\n                        +"+t._s(t.textUint)+" ")]),t._v(" "),t._l(t.baseList,function(s){return e("span",{staticClass:"base-list-text",class:{"base-on":t.unit===s},on:{click:function(e){t.changeBase(s)}}},[t._v("\n                        "+t._s(s))])})],2)])])],1),t._v(" "),e("div",{staticClass:"scroll-body"},[e("div",{staticClass:"trade-List"},[e("div",{staticClass:"search-content"},[e("input",{ref:"searchBox",staticClass:"search",attrs:{type:"text",placeholder:t.searchPhd},on:{input:t.searchChange}}),t._v(" "),e("i",{staticClass:"icon-search"})]),t._v(" "),e("div",{staticClass:"two-tabs zone-tabs"},[e("div",{staticClass:"item",on:{click:function(s){t.zoneChange("global")}}},[e("span",{staticClass:"text",class:{on:"global"===t.zone}},[t._v("\n                        "+t._s(t.market[0])),t._v(" "),e("span",{staticClass:"tips"},[t._v("("+t._s(t.market[2])+")")])]),t._v(" "),e("span",{staticClass:"line"})]),t._v(" "),e("div",{staticClass:"item",on:{click:function(s){t.zoneChange("asia")}}},[e("span",{staticClass:"text",class:{on:"asia"===t.zone}},[t._v("\n                        "+t._s(t.market[1])),t._v(" "),e("span",{staticClass:"tips"},[t._v("("+t._s(t.market[3])+")")])])])]),t._v(" "),e("ul",{staticClass:"gains-item"},t._l(t.coinList,function(s){return e("li",{directives:[{name:"show",rawName:"v-show",value:t.codeFist(s.code).indexOf(t.indexofVal)>=0,expression:"codeFist(item.code).indexOf(indexofVal) >= 0"}],key:s.code},[e("a",{attrs:{href:t.linkUrl(s)}},[e("div",{staticClass:"left"},[e("div",{staticClass:"title-box"},[e("i",{staticClass:"coin-icon",class:"coin-"+t.codeFist(s.code).toLocaleLowerCase()}),t._v(" "),e("div",{staticClass:"bb"},[t._v(t._s(t._f("codeFist")(s.code)))]),t._v(" "),e("div",{staticClass:"slash"},[t._v("/")]),t._v(" "),e("div",{staticClass:"fb"},[t._v(t._s(t._f("codeNext")(s.code)))])]),t._v(" "),e("p",{staticClass:"max-price"},[e("span",[t._v(t._s(t.tradeList.html[2]))]),t._v(" "),e("span",[t._v(t._s(t.moneyFormat(s.volume,s.precis2)))])])]),t._v(" "),e("div",{staticClass:"center"},[e("div",{staticClass:"all-number"},[t._v(t._s(t.moneyFormat(s.price,s.precis)))]),t._v(" "),e("p",{staticClass:"min-price"},[e("span",[t._v("â‰ˆ"+t._s(t.moneyFormat(t.times(s.price,t.moneyRate),t.moneyPrecis))+" "+t._s(t.moneyUnit))])])]),t._v(" "),e("div",{staticClass:"right"},[e("div",{staticClass:"all-text"},[t._v(t._s(t.tradeList.html[3]))]),t._v(" "),e("span",{class:{rise:s.rising>0,drop:s.rising<0}},[e("span",{directives:[{name:"show",rawName:"v-show",value:s.rising>0,expression:"item.rising > 0"}]},[t._v("+")]),t._v("\n                                "+t._s(s.rising||"0.00%")+"\n                            "),e("span",{directives:[{name:"show",rawName:"v-show",value:1*s.rising!=0,expression:"item.rising * 1 !== 0"}]},[t._v("%")])])])])])}))])])])},staticRenderFns:[]};var v=e("VU/8")(d,m,!1,function(t){e("we/s")},"data-v-d64969ea",null);s.default=v.exports},"we/s":function(t,s){}});