webpackJsonp([9],{"5neQ":function(t,e){},"N+xp":function(t,e){},P7ry:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("mvHQ"),n=s.n(a),o=s("Dd8w"),i=s.n(o),c=s("7+uW"),d=s("NYxO"),r=s("pWFc"),l=s("ipgl"),u=s("zBFv"),h=s("aM/G"),m=s("HKXE"),v={props:{value:{type:Boolean,default:!0},transition:{type:String,default:"vn-mask"},accountType:{type:String,default:""},accountVal:{type:String,default:""}},computed:i()({},Object(d.mapState)({codeTest:function(t){return t.lang.language.codeTest}})),data:function(){return{showValue:!1,codeVal:"",codePhd:"",codeRemind:!1,codeWhether:!1,codeRemindText:"",getMsg:"",getBtnIs:!0,alertMessage:"",mobileMessage:"",emailMessage:"",count:""}},watch:{value:function(t){var e=this;this.showValue=t,t||setTimeout(function(){e.codeReset()},300)},showValue:function(t){this.$emit("input",t)}},created:function(){this.showValue=this.value,this.codePhd=this.codeTest.remind[0],this.codeRemindText=this.codeTest.remind[0],this.getMsg=this.codeTest.btn[1],this.mobileMessage=this.codeTest.alertMsg[0],this.emailMessage=this.codeTest.alertMsg[1]},methods:{alertClosed:function(){this.showValue=!1},codeReset:function(){var t=this;this.count="",this.getBtnIs=!0,this.codeVal="",this.countDown(this,function(){t.codeRemind=!1,t.codeWhether=!1},0)},codeInput:function(){this.codeRemind=!1,this.codeVal=this.codeVal.replace(/[^\d]/g,"")},codeBlur:function(){""!=this.codeVal?this.codeWhether=!0:this.codeWhether=!1},sendPhoneCode:function(){var t=this;t.getBtnIs&&("_0"==this.accountType?Object(h._40)([t.accountVal],t.$refs.getCode).then(function(e){t.getBtnIs=!1,200===e.code&&e.data?(t.alertMessage=t.mobileMessage,t.$vn.alert.show({text:t.alertMessage}),t.getBtnIs=!1,t.countDown(t,function(){t.getBtnIs=!0})):(t.getBtnIs=!0,t.$vn.toast.show(e.message))}):"_1"==this.accountType&&Object(h.G)(t.$refs.getCode,{email:this.accountVal}).then(function(e){t.getBtnIs=!1,200===e.code&&e.data?(t.alertMessage=t.emailMessage,t.$vn.alert.show({text:t.alertMessage}),t.getBtnIs=!1,t.countDown(t,function(){t.getBtnIs=!0})):(t.getBtnIs=!0,t.$vn.toast.show(e.message))}))},codeSubmit:function(){this.codeBlur(),this.codeWhether?this.$emit("login-sub",this.codeVal):this.codeRemind=!0}}},p={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:t.transition}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.showValue,expression:"showValue"}],staticClass:"vn-dialog"},[s("div",{staticClass:"vn-mask"}),t._v(" "),s("div",{staticClass:"vn-content"},[s("div",{staticClass:"vn-title"},[s("p",{staticClass:"title"},[t._v(t._s(t.codeTest.title))]),t._v(" "),s("div",{staticClass:"btn-close",on:{click:t.alertClosed}},[s("i",{staticClass:"close-icon"})])]),t._v(" "),s("div",{staticClass:"forms"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.codeVal,expression:"codeVal"}],class:["code-input",{"error-red":t.codeRemind}],attrs:{type:"text",maxlength:"6",placeholder:t.codePhd},domProps:{value:t.codeVal},on:{input:[function(e){e.target.composing||(t.codeVal=e.target.value)},t.codeInput],blur:t.codeBlur,keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.codeSubmit(e)}}}),t._v(" "),s("button",{directives:[{name:"show",rawName:"v-show",value:t.getBtnIs,expression:"getBtnIs"}],ref:"getCode",staticClass:"btn-get",on:{click:t.sendPhoneCode}},[t._v(t._s(t.getMsg)+"\n                ")]),t._v(" "),s("button",{directives:[{name:"show",rawName:"v-show",value:!t.getBtnIs,expression:"!getBtnIs"}],staticClass:"btn-get",attrs:{disabled:!t.getBtnIs}},[t._v(t._s(t.count)+"s\n                ")]),t._v(" "),s("div",{staticClass:"error-box"},[s("p",{directives:[{name:"show",rawName:"v-show",value:t.codeRemind,expression:"codeRemind"}],staticClass:"error-text"},[t._v(t._s(t.codeRemindText))])])]),t._v(" "),s("div",{staticClass:"submit",on:{click:t.codeSubmit}},[t._v(t._s(t.codeTest.btn[0]))])])])])},staticRenderFns:[]};var g=s("VU/8")(v,p,!1,function(t){s("xP1l")},"data-v-18eecdd9",null).exports,w={props:{value:{type:Boolean,default:!0},transition:{type:String,default:"vn-mask"}},created:function(){this.showValue=this.value},mounted:function(){this.addJs()},computed:i()({},Object(d.mapState)({safeTest:function(t){return t.lang.language.safeTest},lang:function(t){return t.lang.langType}})),data:function(){return{showValue:!1}},watch:{value:function(t){this.showValue=t},showValue:function(t){t&&void 0!==this.widgetId&&window.grecaptcha.reset(this.widgetId),this.$emit("input",t)}},methods:{alertClosed:function(){this.showValue=!1},addJs:function(){var t=this;window.onloadCallback=function(){t.widgetId=window.grecaptcha.render("box",{sitekey:"6LcHCGQUAAAAACAvWRWF3XGgF8DYRcz8pC-t9caV",theme:"dark",callback:function(e){t.submit(e)}})};var e=document.createElement("script");e.src="https://www.google.com/recaptcha/api.js?onload=onloadCallback&hl="+{zh:"zh-CN",en:"en",ct:"zh-TW",vi:"vi"}[t.lang],e.async=!0,e.defer=!0,document.body.appendChild(e)},submit:function(t){this.$emit("on-submit",t),this.showValue=!1}}},f={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:t.transition}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.showValue,expression:"showValue"}],staticClass:"vn-dialog"},[s("div",{staticClass:"vn-mask"}),t._v(" "),s("div",{staticClass:"vn-content"},[s("div",{staticClass:"vn-title"},[s("p",{staticClass:"title"},[t._v(t._s(t.safeTest.title))]),t._v(" "),s("div",{staticClass:"btn-close",on:{click:t.alertClosed}},[s("i",{staticClass:"close-icon"})])]),t._v(" "),s("div",{staticClass:"forms",attrs:{id:"box"}})])])])},staticRenderFns:[]};var b=s("VU/8")(w,f,!1,function(t){s("N+xp"),s("5neQ")},"data-v-36b28d94",null).exports,_={name:"login",components:{IndexHead:m.a,CodeTest:g,SafeTest:b},computed:i()({},Object(d.mapState)({login:function(t){return t.lang.language.login}})),data:function(){return{accountVal:"",accountRemind:!1,accountRemindText:"",accountPrompt:"",accountType:"",passwordPrompt:"",passwordVal:"",passwordRemind:!1,passwordRemindText:"",isAccount:!1,isPassword:!1,redir:"",codeShow:!1,safeShow:!1,safeCode:"",machineStatus:!1}},filters:{},created:function(){this.accountPrompt=this.login.placeholder[0],this.passwordPrompt=this.login.placeholder[1]},mounted:function(){var t=this;this.getMachineCheck(),this.exitLogin(),setTimeout(function(){var e=t.$f7router.currentRoute.query;t.redir=e.redir||"/index"},50)},methods:{getMachineCheck:function(){var t=this;Object(h._11)([]).then(function(e){200==e.code&&e.data&&(t.machineStatus="true"===e.data.val)})},accountChange:function(){this.accountRemind=!1,this.accountVal=this.accountVal.replace(/\s+/g,"")},accountBlur:function(){""!=this.accountVal?"_0"==this.accountTest(this.accountVal)?(this.accountType=this.accountTest(this.accountVal),this.isAccount=!0):"_1"==this.accountTest(this.accountVal)?(this.isAccount=!0,this.accountType=this.accountTest(this.accountVal)):(this.isAccount=!1,this.accountType=this.accountTest(this.accountVal),this.accountRemind=!0,this.accountRemindText=this.login.remind[0]):(this.isAccount=!1,this.accountRemind=!1,this.accountRemindText=this.login.remind[2])},passwordBlur:function(){""!==this.passwordVal?this.passwordTest(this.passwordVal)?(this.passwordRemind=!1,this.isPassword=!0):(this.passwordRemind=!0,this.isPassword=!1,this.passwordRemindText=this.login.remind[1]):(this.isPassword=!1,this.passwordRemind=!1,this.passwordRemindText=this.login.remind[3])},passwordChange:function(){this.passwordRemind=!1,this.passwordVal=this.passwordVal.replace(/\s+/g,"")},loginGo:function(){this.accountBlur(),this.passwordBlur(),this.isAccount||(this.accountRemind=!0),this.isPassword||(this.passwordRemind=!0),this.isAccount&&this.isPassword&&(this.machineStatus?this.safeShow=!0:this.codeShow=!0)},safeSubmit:function(t){this.safeCode=t,this.codeShow=!0},loginSubmit:function(t){var e=this,s=this;"_0"==s.accountType?Object(h._19)(s.$refs.login,{mobile:s.accountVal,password:s.passwordVal,verification:s.safeCode,code:t}).then(function(t){200===t.code&&t.data?s.loginOk(t.data,s):e.$vn.toast.show(t.message)}):Object(h._18)(s.$refs.login,{email:s.accountVal,password:s.passwordVal,verification:s.safeCode,code:t}).then(function(t){200===t.code&&t.data?s.loginOk(t.data,s):e.$vn.toast.show(t.message)})},loginOk:function(t,e){this.codeShow=!1,r.a.set(l.b,Object(u.d)(n()(t))),e.$vn.toast.show({text:e.login.remind[4],onHide:function(){e.$f7router.navigate(e.redir)}}),Object(h.p)(c.a.langType).then(function(){})}}},C={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("f7-page",{staticClass:"login-body"},[s("index-head"),t._v(" "),s("div",{staticClass:"scroll-body"},[s("div",{staticClass:"main-place"},[s("f7-block",{staticClass:"register-link"},[s("f7-link",{attrs:{href:"/register"}},[t._v(t._s(t.login.title[1]))])],1),t._v(" "),s("h1",{staticClass:"title"},[t._v(t._s(t.login.title[0]))]),t._v(" "),s("div",{staticClass:"message-box"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.accountVal,expression:"accountVal"}],class:["login-inp",{"error-red":t.accountRemind}],attrs:{type:"text",placeholder:t.accountPrompt},domProps:{value:t.accountVal},on:{input:[function(e){e.target.composing||(t.accountVal=e.target.value)},t.accountChange],blur:t.accountBlur}}),t._v(" "),s("div",{staticClass:"error-remind"},[s("span",{directives:[{name:"show",rawName:"v-show",value:t.accountRemind,expression:"accountRemind"}]},[t._v(t._s(t.accountRemindText))])]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.passwordVal,expression:"passwordVal"}],class:["register-inp",{"error-red":t.passwordRemind}],attrs:{type:"password",placeholder:t.passwordPrompt},domProps:{value:t.passwordVal},on:{blur:t.passwordBlur,input:[function(e){e.target.composing||(t.passwordVal=e.target.value)},t.passwordChange],keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.loginGo(e)}}}),t._v(" "),s("div",{staticClass:"error-remind"},[s("span",{directives:[{name:"show",rawName:"v-show",value:t.passwordRemind,expression:"passwordRemind"}]},[t._v(t._s(t.passwordRemindText))])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.passwordRemind,expression:"!passwordRemind"}],staticClass:"error-placeholder"})]),t._v(" "),s("div",{ref:"login",staticClass:"button",on:{click:t.loginGo}},[t._v(t._s(t.login.title[0]))]),t._v(" "),s("f7-block",{staticClass:"forget-link"},[s("f7-link",{attrs:{href:"/getback"}},[t._v(t._s(t.login.title[2]))])],1)],1)]),t._v(" "),s("safe-test",{on:{"on-submit":t.safeSubmit},model:{value:t.safeShow,callback:function(e){t.safeShow=e},expression:"safeShow"}}),t._v(" "),s("code-test",{attrs:{accountType:t.accountType,accountVal:t.accountVal},on:{"login-sub":t.loginSubmit},model:{value:t.codeShow,callback:function(e){t.codeShow=e},expression:"codeShow"}})],1)},staticRenderFns:[]};var V=s("VU/8")(_,C,!1,function(t){s("cKJI")},"data-v-6bb7490d",null);e.default=V.exports},cKJI:function(t,e){},xP1l:function(t,e){}});