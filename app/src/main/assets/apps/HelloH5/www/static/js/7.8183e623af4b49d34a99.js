webpackJsonp([7],{BXp8:function(t,e){},DHRo:function(t,e){},H2s2:function(t,e){},JN02:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("Dd8w"),a=i.n(s),n=i("NYxO"),r=i("+X9N"),o=i("nRsL"),l=i("SNX6"),c=i("sqAx"),u=i("ipgl"),h=i("g5qD"),d=i("aM/G"),p={zh:"CNY",ct:"USD",en:"USD",vi:"USD"},m={zh:"https://vnbig.zendesk.com/hc/zh-cn/articles/360004203992-%E8%B4%B9%E7%8E%87%E8%AF%B4%E6%98%8E",ct:"https://vnbig.zendesk.com/hc/zh-tw/articles/360004203992--%E8%B2%BB%E7%8E%87%E8%AA%AA%E6%98%8E",en:"https://vnbig.zendesk.com/hc/en-us/articles/360004203992-Rate-Description",vi:"https://vnbig.zendesk.com/hc/vi/articles/360004203992-M%C3%B4-t%E1%BA%A3-ph%C3%AD-giao-d%E1%BB%8Bch"},v={components:{TradeHeader:r.a,TradeOrder:l.a,OrderList:o.a,NoData:c.a},computed:a()({},Object(n.mapState)({trade:function(t){return t.lang.language.trade},langType:function(t){return t.lang.langType}}),{priceTypeText:function(){return this.priceTypeApi=0===this.priceType?"MARKET":"LIMIT",0===this.priceType?this.trade.inputTitle[0]:this.trade.inputTitle[1]}}),data:function(){return{hasLogin:!1,moneyPrecis:u.e,moneyUnit:"",moneyRate:1,code:"",unit:"",coinName:"",coinId:"",feeLink:"",isMenuShow:!1,dealType:"buy",priceType:1,priceTypeApi:"MARKET",fastBuy:-1,fastSell:-1,fastDealData:["25","50","75","100"],assetAccount:"",buyData:{price:"",number:"",balance:0,fee:0,rate:0,total:0,money:""},sellData:{price:"",number:"",balance:0,fee:0,rate:0,total:0},orderType:"entrust",entrustData:[],historyData:[],allLimitPoint:{},limitPoint:{},limitDeal:{},coinInfo:{},historyTypeAll:u.f.done+","+u.f.cancel+","+u.f.someDone,myOptList:!1,collectShow:!1}},created:function(){var t=this;this.setTitle(this.trade.title),this.moneyUnit=p[this.langType],this.feeLink=m[this.langType],this.hasLogin=this.isLogin(),this.hasLogin?setTimeout(function(){t.initType()},50):this.goLogin()},beforeDestroy:function(){clearInterval(this.timer),this.timer=0},watch:{buyData:{handler:function(){if(1===this.priceType){var t=this.times(this.buyData.price,this.buyData.number,this.limitPoint.amount);-1!==this.fastBuy?this.buyData.total=1*t>1*this.buyData.balance?this.buyData.balance:t:this.buyData.total=t}this.buyData.fee=this.times(this.buyData.number,this.buyData.rate,this.limitPoint.amount)},deep:!0},sellData:{handler:function(){1===this.priceType&&(this.sellData.total=this.times(this.sellData.price,this.sellData.number,this.limitPoint.amount),this.sellData.fee=this.times(this.sellData.total,this.sellData.rate,this.limitPoint.amount))},deep:!0}},mounted:function(){},methods:{initType:function(){var t=this.$f7router.currentRoute.query;this.dealType=t.type,this.price=t.price||"",this.getCoinDeal(),this.getPoint(),this.timedTask()},getCoinDeal:function(){var t=this.$f7router.currentRoute.query,e={};t.coinName&&(e={coinName:t.coinName,exchange:t.exchange,unit:t.unit},this.coinName=e.coinName,this.unit=e.unit,this.showUnit=this.unit,this.code=e.code=e.exchange+"_"+e.unit+"_"+e.coinName)},getPoint:function(){var t=this;this.getMoneyRate(),Object(h.c)().then(function(e){t.allLimitPoint=e||{},t.limitPoint=t.allLimitPoint[t.code]||{},t.getUserMoney(),t.getOrderEntrust(),t.getOrderHistroy()})},getLimitDeal:function(){var t=this;Object(h.h)(this.code).then(function(e){t.limitDeal=e})},coinChange:function(t){this.unit=t.unit,this.coinName=t.coinName,this.coinId=t.coinId,this.code=t.code,this.exchange=t.exchange,this.getPoint(),this.getLimitDeal(),this.getCoinInfo()},getCoinInfo:function(){var t=this;this.code&&Object(d.x)([this.code]).then(function(e){if(t.hideLoading(),"key.notExists"===e.code&&(t.getCoinInfo=t.emptyFn),200===e.code&&e.data){var i=e.data,s=t.floatNum(100*t.div(t.minus(i.price,i.refPrice),i.refPrice),2);s=(1*s).toFixed(2),t.coinInfo={rising:s,volume:i.volume,price:1*i.price,high:i.high,low:i.low,time:t.timeFormat(i.timestamp)}}})},menuShow:function(t){this.isMenuShow=t},dealTab:function(t){this.dealType=t},priceChange:function(){this.priceType=1*!this.priceType,this.sellData.price=this.buyData.price="",this.fastBuy=this.fastSell=-1,this.inputInit("change")},getUserMoney:function(){var t=this;Object(d._48)([this.code]).then(function(e){if(200===e.code&&e.data){var i=e.data;t.buyData.balance=i[t.unit]||0,t.sellData.balance=i[t.coinName]||0,t.buyData.rate=i.buyRate,t.sellData.rate=i.sellerRate,t.assetAccount=i.assetAccount}})},getOrderEntrust:function(){var t=this;"entrust"===this.orderType&&Object(d._28)([this.code,10]).then(function(e){t.hideLoading(),"key.notExists"===e.code&&(t.getOrderEntrust=t.emptyFn),200===e.code&&e.data&&(t.entrustData=e.data)})},getOrderHistroy:function(){var t=this;"history"===this.orderType&&Object(d._29)(["0-10"],{code:this.code,status:this.historyTypeAll}).then(function(e){"key.notExists"===e.code&&(t.getOrderHistroy=t.emptyFn),200===e.code&&e.data&&e.data.content&&(t.historyData=e.data.content)})},limitNumber:function(t){var e=t.split("."),i=e[0],s=e[1];return i.length>10&&(t=i.substring(0,10)),s&&(t+="."+s),t},inputPrice:function(t){"buy"===t?(this.buyData.price=this.floatInput(this.limitNumber(this.$refs.priceBuy.value),this.limitPoint.price),this.$refs.priceBuy.value=this.buyData.price):(this.sellData.price=this.floatInput(this.limitNumber(this.$refs.priceSell.value),this.limitPoint.price),this.$refs.priceSell.value=this.sellData.price)},inputNumber:function(t){"buy"===t?(this.fastBuy=-1,this.buyData.number=this.floatInput(this.limitNumber(this.$refs.numberBuy.value),this.limitPoint.volume),this.$refs.numberBuy.value=this.buyData.number):(this.fastSell=-1,this.sellData.number=this.floatInput(this.limitNumber(this.$refs.numberSell.value),this.limitPoint.volume),this.$refs.numberSell.value=this.sellData.number)},inputMoney:function(t){"buy"===t&&(this.buyData.money=this.floatInput(this.limitNumber(this.$refs.moneyBuy.value),this.limitPoint.amount),this.$refs.moneyBuy.value=this.buyData.money,this.buyData.total=this.buyData.money||0)},fastDealChange:function(t){if("buy"===this.dealType){if(this.priceType&&!this.buyData.price)return void this.$vn.toast.show(this.trade.inputTip[0]);var e=this.times(this.buyData.balance,t/100,this.limitPoint.price);this.buyData.total=this.buyData.money=e,this.buyData.number=this.div(e,this.buyData.price,this.limitPoint.volume)||"",this.$refs.numberBuy.value=this.buyData.number,this.$refs.moneyBuy.value=e,this.fastBuy=t}else{if(this.priceType&&!this.sellData.price)return void this.$vn.toast.show(this.trade.inputTip[0]);this.sellData.number=this.times(this.sellData.balance,t/100,this.limitPoint.volume),this.$refs.numberSell.value=this.sellData.number,this.fastSell=t}},inputInit:function(t){this.buyData.price=this.buyData.number=this.buyData.money="",this.sellData.price=this.sellData.number="",this.$refs.numberBuy.value=this.$refs.moneyBuy.value=this.$refs.priceBuy.value="",this.$refs.numberSell.value=this.$refs.priceSell.value="",t||(this.$vn.toast.show(this.trade.inputTip[1]),this.$refs.tradeOrder.getOrderList(),this.getUserMoney(),this.getOrderEntrust(),this.getOrderHistroy())},buyCheck:function(){var t=this.buyData,e=this;if(this.priceType){if(!t.price)return void this.$vn.toast.show(this.trade.inputTip[0]);if(1*t.price<this.limitDeal.p_buy_low*this.coinInfo.price)return void this.$vn.toast.show(this.trade.limit[0].replace("{n}",this.limitDeal.p_buy_low));if(1*t.price>this.limitDeal.p_buy_high*this.coinInfo.price)return void this.$vn.toast.show(this.trade.limit[1].replace("{n}",this.limitDeal.p_buy_high));if(!t.number)return void this.$vn.toast.show(this.trade.inputTip[2]);if(1*t.number<this.limitDeal.v_buy_low)return void this.$vn.toast.show(this.trade.limit[2]+this.limitDeal.v_buy_low+this.coinName);if(1*t.number>this.limitDeal.v_buy_high)return void this.$vn.toast.show(this.trade.limit[3]+this.limitDeal.v_buy_high+this.coinName)}else{if(!t.money)return void this.$vn.toast.show(this.trade.inputTip[4]);if(1*t.money<this.limitDeal.a_buy_low)return void this.$vn.toast.show(this.trade.limit[4]+this.limitDeal.a_buy_low+this.unit);if(1*t.money>this.limitDeal.a_buy_high)return void this.$vn.toast.show(this.trade.limit[5]+this.limitDeal.a_buy_high+this.unit)}return!(1*t.total>1*t.balance)||(this.$vn.confirm.show({text:e.trade.inputTip[5],btnOK:e.trade.inputTip[6],onConfirm:function(){e.recharge()}}),this.$refs.priceBuy.value=this.$refs.numberBuy.value="",t.number="",void(t.price=""))},buy:function(){var t=this;this.buyCheck()&&Object(d._31)(this.$refs.priceBuy,{code:this.code,type:this.priceTypeApi,source:"_2",command:"B",price:this.buyData.price,volume:this.buyData.number,amount:this.buyData.money}).then(function(e){200===e.code?t.inputInit():t.$vn.alert.show(e.message)})},sellCheck:function(){var t=this.sellData,e=this;if(this.priceType){if(!t.price)return void this.$vn.toast.show(this.trade.inputTip[0]);if(1*t.price<this.limitDeal.p_sell_low*this.coinInfo.price)return void this.$vn.toast.show(this.trade.limit[0].replace("{n}",this.limitDeal.p_sell_low));if(1*t.price>this.limitDeal.p_sell_high*this.coinInfo.price)return void this.$vn.toast.show(this.trade.limit[1].replace("{n}",this.limitDeal.p_sell_high));if(!t.number)return void this.$vn.toast.show(this.trade.inputTip[2]);if(1*t.number<this.limitDeal.v_sell_low)return void this.$vn.toast.show(this.trade.limit[2]+this.limitDeal.v_sell_low+this.coinName);if(1*t.number>this.limitDeal.v_sell_high)return void this.$vn.toast.show(this.trade.limit[3]+this.limitDeal.v_sell_high+this.coinName)}else{if(!t.number)return void this.$vn.toast.show(this.trade.inputTip[2]);if(1*t.number<this.limitDeal.v_sell_low)return void this.$vn.toast.show(this.trade.limit[2]+this.limitDeal.v_sell_low+this.coinName);if(1*t.number>this.limitDeal.v_sell_high)return void this.$vn.toast.show(this.trade.limit[3]+this.limitDeal.v_sell_high+this.coinName)}return!(1*t.number>t.balance)||(this.$vn.confirm.show({text:e.trade.inputTip[5],btnOK:e.trade.inputTip[6],onConfirm:function(){e.recharge()}}),this.$refs.priceSell.value=this.$refs.numberSell.value="",t.number="",void(t.price=""))},sell:function(){var t=this;this.sellCheck()&&Object(d._31)(this.$refs.priceBuy,{code:this.code,type:this.priceTypeApi,source:"_2",command:"S",price:this.sellData.price,volume:this.sellData.number}).then(function(e){200===e.code?t.inputInit():t.$vn.alert.show(e.message)})},priceFocus:function(t){"buy"===this.dealType?(this.buyData.price=t,this.$refs.priceBuy.value=t,this.$refs.priceBuy.focus()):(this.sellData.price=t,this.$refs.priceSell.value=t,this.$refs.priceSell.focus())},numberFocus:function(t){"buy"===this.dealType?(this.buyData.number=t,this.$refs.numberBuy.value=t,this.$refs.numberBuy.focus()):(this.sellData.number=t,this.$refs.numberSell.value=t,this.$refs.numberSell.focus())},orderTab:function(t){this.orderType=t,this.getOrderEntrust(),this.getOrderHistroy()},orderCancel:function(){this.getOrderEntrust(),this.getOrderHistroy(),this.getUserMoney()},getMoneyRate:function(){var t=this;Object(d.S)().then(function(e){200===e.code&&e.data&&(t.moneyRate=e.data[t.unit+"_"+t.moneyUnit]||1)})},recharge:function(){var t=void 0;t="buy"===this.dealType?"/fundFlow?type=in&code="+this.assetAccount+"&coinName="+this.unit:"/fundFlow?type=in&code="+this.assetAccount+"&coinName="+this.coinName,this.$f7router.navigate(t)},viewMore:function(){this.$f7router.navigate("/accountOrder?type="+this.orderType+"&code="+this.code)},emptyFn:function(){},timedTask:function(){var t=this;u.k&&(this.timer=setInterval(function(){t.hasLogin=t.isLogin(),t.hasLogin?(t.getCoinInfo(),t.getOrderEntrust(),t.getMoneyRate()):t.goLogin()},u.l))}}},y={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("f7-page",{staticClass:"trade-body",class:{"menu-show":t.isMenuShow}},[i("trade-header",{attrs:{collectShow:!1,unit:t.unit,coinName:t.coinName,code:t.code},on:{"menu-show":t.menuShow,"coin-change":t.coinChange}}),t._v(" "),i("div",{staticClass:"scroll-body"},[i("div",{staticClass:"tab deal-title"},[i("span",{staticClass:"tab-list rise",class:{on:"buy"===t.dealType},on:{click:function(e){t.dealTab("buy")}}},[t._v("\n                "+t._s(t.trade.btn[0])),t._v(" "),i("i",{staticClass:"line"})]),t._v(" "),i("span",{staticClass:"tab-list drop",class:{on:"sell"===t.dealType},on:{click:function(e){t.dealTab("sell")}}},[t._v("\n            "+t._s(t.trade.btn[1]))])]),t._v(" "),i("div",{staticClass:"deal-box"},[i("div",{staticClass:"deal-change"},[i("a",{staticClass:"fee external",attrs:{href:t.feeLink,target:"_blank"}},[t._v(t._s(t.trade.inputTitle[2]))]),t._v(" "),i("div",{staticClass:"vn-block",on:{click:t.priceChange}},[i("span",{staticClass:"text"},[t._v(t._s(t.priceTypeText))]),i("i",{staticClass:"arrows"})])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"buy"===t.dealType,expression:"dealType === 'buy'"}],staticClass:"deal-buy"},[i("div",{directives:[{name:"show",rawName:"v-show",value:1===t.priceType,expression:"priceType === 1"}],staticClass:"input-box"},[i("label",{staticClass:"explain",attrs:{for:"price"}},[t._v(t._s(t.trade.input[0]))]),t._v(" "),i("input",{ref:"priceBuy",staticClass:"input",attrs:{id:"price",type:"text"},on:{input:function(e){t.inputPrice("buy")}}}),t._v(" "),i("label",{staticClass:"unit",attrs:{for:"price"}},[t._v(t._s(t.unit))])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:1===t.priceType,expression:"priceType === 1"}],staticClass:"han-money"},[t._v("≈"+t._s(t.moneyFormat(t.times(t.buyData.price,t.moneyRate),t.moneyPrecis))+" "+t._s(t.moneyUnit))]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:1===t.priceType,expression:"priceType === 1"}],staticClass:"input-box"},[i("label",{staticClass:"explain",attrs:{for:"number"}},[t._v(t._s(t.trade.input[1]))]),t._v(" "),i("input",{ref:"numberBuy",staticClass:"input",attrs:{id:"number",type:"text"},on:{input:function(e){t.inputNumber("buy")}}}),t._v(" "),i("label",{staticClass:"unit",attrs:{for:"number"}},[t._v(t._s(t.coinName))])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:0===t.priceType,expression:"priceType === 0"}],staticClass:"input-box"},[i("label",{staticClass:"explain",attrs:{for:"money"}},[t._v(t._s(t.trade.input[2]))]),t._v(" "),i("input",{ref:"moneyBuy",staticClass:"input",attrs:{id:"money",type:"text"},on:{input:function(e){t.inputMoney("buy")}}}),t._v(" "),i("label",{staticClass:"unit",attrs:{for:"money"}},[t._v(t._s(t.unit))])]),t._v(" "),i("div",{staticClass:"fast-deal"},t._l(t.fastDealData,function(e){return i("span",{staticClass:"item",class:{on:t.fastBuy===e},on:{click:function(i){t.fastDealChange(e)}}},[t._v("\n                    "+t._s(e)+"%\n                ")])})),t._v(" "),i("div",{staticClass:"text-box"},[i("span",{staticClass:"explain"},[t._v(t._s(t.trade.input[3]))]),t._v(" "),i("span",{staticClass:"value"},[i("span",{staticClass:"balance"},[t._v(t._s(t.moneyFormat(t.buyData.balance,t.limitPoint.price))+" "+t._s(t.unit))]),t._v(" "),i("span",{staticClass:"recharge",on:{click:t.recharge}},[t._v(t._s(t.trade.btn[2])+" "),t._v(" "),i("i")])])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:1===t.priceType,expression:"priceType === 1"}],staticClass:"text-box"},[i("span",{staticClass:"explain"},[t._v(t._s(t.trade.input[5]))]),t._v(" "),i("span",{staticClass:"value"},[t._v(t._s(t.moneyFormat(t.buyData.total,t.limitPoint.amount))+"  "+t._s(t.unit))])]),t._v(" "),i("button",{staticClass:"btn rise-btn",attrs:{type:"button"},on:{click:t.buy}},[t._v("\n                    "+t._s(t.trade.btn[0])),t._v(" "+t._s(t.coinName)+"\n                ")])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"sell"===t.dealType,expression:"dealType === 'sell'"}],staticClass:"deal-sell"},[i("div",{directives:[{name:"show",rawName:"v-show",value:1===t.priceType,expression:"priceType === 1"}],staticClass:"input-box"},[i("label",{staticClass:"explain",attrs:{for:"price2"}},[t._v(t._s(t.trade.input[0]))]),t._v(" "),i("input",{ref:"priceSell",staticClass:"input",attrs:{id:"price2",type:"text"},on:{input:function(e){t.inputPrice("sell")}}}),t._v(" "),i("label",{staticClass:"unit",attrs:{for:"price2"}},[t._v(t._s(t.unit))])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:1===t.priceType,expression:"priceType === 1"}],staticClass:"han-money"},[t._v("≈"+t._s(t.moneyFormat(t.times(t.sellData.price,t.moneyRate),t.moneyPrecis))+" "+t._s(t.moneyUnit))]),t._v(" "),i("div",{staticClass:"input-box"},[i("label",{staticClass:"explain",attrs:{for:"number2"}},[t._v(t._s(t.trade.input[1]))]),t._v(" "),i("input",{ref:"numberSell",staticClass:"input",attrs:{id:"number2",type:"text"},on:{input:function(e){t.inputNumber("sell")}}}),t._v(" "),i("label",{staticClass:"unit",attrs:{for:"number2"}},[t._v(t._s(t.coinName))])]),t._v(" "),i("div",{staticClass:"fast-deal"},t._l(t.fastDealData,function(e){return i("span",{staticClass:"item",class:{on:t.fastSell===e},on:{click:function(i){t.fastDealChange(e)}}},[t._v("\n                    "+t._s(e)+"%\n                ")])})),t._v(" "),i("div",{staticClass:"text-box"},[i("span",{staticClass:"explain"},[t._v(t._s(t.trade.input[3]))]),t._v(" "),i("span",{staticClass:"value"},[i("span",{staticClass:"balance"},[t._v(t._s(t.moneyFormat(t.sellData.balance,t.limitPoint.volume))+" "+t._s(t.coinName))]),t._v(" "),i("span",{staticClass:"recharge",on:{click:t.recharge}},[t._v(t._s(t.trade.btn[2])+" "),t._v(" "),i("i")])])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:1===t.priceType,expression:"priceType === 1"}],staticClass:"text-box"},[i("span",{staticClass:"explain"},[t._v(t._s(t.trade.input[5]))]),t._v(" "),i("span",{staticClass:"value"},[t._v(t._s(t.moneyFormat(t.sellData.total,t.limitPoint.amount))+"  "+t._s(t.unit))])]),t._v(" "),i("button",{staticClass:"btn drop-btn",attrs:{type:"button"},on:{click:t.sell}},[t._v("\n                    "+t._s(t.trade.btn[1])),t._v(" "+t._s(t.coinName)+"\n                ")])])]),t._v(" "),i("trade-order",{ref:"tradeOrder",staticClass:"five-price",attrs:{code:t.code,unit:t.unit,coinName:t.coinName,length:5},on:{"price-focus":t.priceFocus,"number-foucs":t.numberFocus}}),t._v(" "),i("div",{staticClass:"order-history"},[i("div",{staticClass:"tab"},[i("span",{staticClass:"tab-list",class:{on:"entrust"===t.orderType},on:{click:function(e){t.orderTab("entrust")}}},[t._v("\n                    "+t._s(t.trade.entrustTitle[0])),t._v(" "),i("i",{staticClass:"line"})]),t._v(" "),i("span",{staticClass:"tab-list",class:{on:"history"===t.orderType},on:{click:function(e){t.orderTab("history")}}},[t._v("\n                    "+t._s(t.trade.entrustTitle[1]))]),t._v(" "),i("span",{staticClass:"more",on:{click:t.viewMore}},[t._v("\n                    "+t._s(t.trade.entrustTitle[2]))])])]),t._v(" "),i("div",{staticClass:"show-data"},[i("order-list",{directives:[{name:"show",rawName:"v-show",value:"entrust"===t.orderType,expression:"orderType === 'entrust'"}],attrs:{orderData:t.entrustData,hasBtn:!0,limitPoint:t.allLimitPoint},on:{"order-cancel":t.orderCancel}}),t._v(" "),i("order-list",{directives:[{name:"show",rawName:"v-show",value:"history"===t.orderType,expression:"orderType === 'history'"}],attrs:{orderData:t.historyData,orderType:"history",limitPoint:t.allLimitPoint},on:{"order-cancel":t.orderCancel}}),t._v(" "),"entrust"!==t.orderType||t.entrustData[0]?t._e():i("no-data",{attrs:{shrink:!0}}),t._v(" "),"history"!==t.orderType||t.historyData[0]?t._e():i("no-data",{attrs:{shrink:!0}})],1)],1)],1)},staticRenderFns:[]};var _=i("VU/8")(v,y,!1,function(t){i("BXp8")},"data-v-6f102b90",null);e.default=_.exports},SNX6:function(t,e,i){"use strict";var s=i("Dd8w"),a=i.n(s),n=i("NYxO"),r=i("ipgl"),o=i("aM/G"),l={name:"tradeOrder",props:{code:{type:String,default:""},length:{type:Number,default:10},unit:{type:String,default:""},coinName:{type:String,default:""},limitPoint:{type:Object,default:function(){return{}}}},computed:a()({},Object(n.mapState)({trade:function(t){return t.lang.language.trade}})),data:function(){return{orderBuyList:[],orderSellList:[],orderList:[]}},watch:{code:function(){this.getOrderList()}},mounted:function(){this.timedTask()},beforeDestroy:function(){clearInterval(this.timer),this.timer=0},methods:{getOrderList:function(){var t=this,e=this.length,i=[this.code],s=[1,2,3,4,5,1,2,3,4,5];Object(o.A)(i).then(function(i){if("key.notExists"===i.code&&(t.getOrderList=t.emptyFn),200===i.code&&i.data){t.$emit("deepth-data",i.data);var a=i.data.bids||[],n=i.data.asks||[];e=Math.max(a.length,n.length);for(var r=0;r<e;r++)t.orderBuyList[r]=a[r]||{},t.orderSellList[r]=n[r]||{};t.orderList=s.slice(0,e)}})},emptyFn:function(){},timedTask:function(){var t=this;r.k&&(this.timer=setInterval(function(){t.getOrderList()},r.l))},focusless:function(t){if(!t)return"";var e=(t=t.toString()).split(".");return e[1]=e[1]||"",e[1]=e[1].replace(/0+$/,""),e[1]?e[0]+"."+e[1]:e[0]},priceFocus:function(t){t&&(t=this.floatNum(t,this.limitPoint.price),this.$emit("price-focus",this.focusless(t)))},numberFocus:function(t){t&&(t=this.floatNum(t,this.limitPoint.volume),this.$emit("number-foucs",this.focusless(t)))}}},c={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"table"},[i("div",{staticClass:"thead"},[i("span",{staticClass:"td td-25"},[t._v(t._s(t.trade.orderFive[1])+" ("+t._s(t.coinName)+")")]),t._v(" "),i("span",{staticClass:"td td-50 text-center"},[t._v(t._s(t.trade.input[0])+" ("+t._s(t.unit)+")")]),t._v(" "),i("span",{staticClass:"td td-25 text-right"},[t._v(t._s(t.trade.orderFive[1])+" ("+t._s(t.coinName)+")")])]),t._v(" "),i("div",{staticClass:"tbody"},t._l(t.orderList,function(e,s){return i("div",{staticClass:"tr"},[i("span",{staticClass:"td td-25",on:{click:function(e){t.numberFocus(t.orderBuyList[s].volume)}}},[t._v("\n                "+t._s(t.floatNum(t.orderBuyList[s].volume||"kong",t.limitPoint.volume)))]),t._v(" "),i("span",{staticClass:"td td-25 text-right rise",on:{click:function(e){t.priceFocus(t.orderBuyList[s].price)}}},[t._v("\n                "+t._s(t.floatNum(t.orderBuyList[s].price||"kong",t.limitPoint.price)))]),t._v(" "),i("span",{staticClass:"td td-25 drop",on:{click:function(e){t.priceFocus(t.orderSellList[s].price)}}},[t._v("\n                "+t._s(t.floatNum(t.orderSellList[s].price||"kong",t.limitPoint.price)))]),t._v(" "),i("span",{staticClass:"td td-25 text-right",on:{click:function(e){t.numberFocus(t.orderSellList[s].volume)}}},[t._v("\n                "+t._s(t.floatNum(t.orderSellList[s].volume||"kong",t.limitPoint.volume)))])])}))])},staticRenderFns:[]};var u=i("VU/8")(l,c,!1,function(t){i("H2s2")},"data-v-ff811fd6",null);e.a=u.exports},nRsL:function(t,e,i){"use strict";var s=i("Dd8w"),a=i.n(s),n=i("NYxO"),r=i("sqAx"),o=i("aM/G"),l={name:"orderList",components:{NoData:r.a},props:{orderData:{type:Array,default:function(){return[]}},limitPoint:{type:Object,default:function(){return{}}},hasBtn:{type:Boolean,default:!1},hasNumber:{type:Boolean,default:!1},orderType:{type:String,default:"entrust"},orderStatus:{type:Object,default:function(){return{}}}},computed:a()({},Object(n.mapState)({trade:function(t){return t.lang.language.trade}})),data:function(){return{showValue:!1,limit:{}}},methods:{orderCancel:function(t){var e=this;this.$vn.confirm.show({text:e.trade.orderCancel[0],onConfirm:function(){Object(o._26)(e.$refs.order,{code:t.variety,id:t.id}).then(function(t){200===t.code?(e.$vn.toast.show(e.trade.orderCancel[1]),e.$emit("order-cancel")):(t.message=t.message||e.trade.orderCancel[2],e.$vn.toast.show(t.message))})}})},dealType:function(t){return"B"===t?this.trade.btn[0]:this.trade.btn[1]},coinType:function(t,e){return(t=t||"").split("_")[e]||""},goDetail:function(t){if(this.hasNumber&&"history"===this.orderType){var e=this.coinType(t.variety,2),i=this.coinType(t.variety,1);t.dealAmount=t.dealAmount||0,t.volume=t.volume||0,t.dealVolume=t.dealVolume||0,this.$f7router.navigate("/accountOrderDetail?id="+t.id+"&amount="+t.dealAmount+"&volume="+t.volume+"&dealVolume="+t.dealVolume+"&command="+t.command+"&coin="+e+"&unit="+i+"&status="+t.status)}}}},c={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"order",staticClass:"order-list-body",class:{"has-number":t.hasNumber}},t._l(t.orderData,function(e){return i("div",{staticClass:"order-list",on:{click:function(i){t.goDetail(e)}}},[t.hasNumber?i("div",{staticClass:"order-number"},[i("span",{staticClass:"number"},[t._v(t._s(t.trade.orderTitle[0])),t._v(" "+t._s(e.id))]),t._v(" "),"history"===t.orderType?i("span",{staticClass:"status"},[e.status===t.orderStatus.done?i("span",[t._v(t._s(t.trade.orderTitle[1]))]):t._e(),t._v(" "),e.status===t.orderStatus.someDone?i("span",[t._v(t._s(t.trade.orderTitle[4]))]):t._e(),t._v(" "),e.status===t.orderStatus.cancel?i("span",[t._v("\n                    "+t._s(t.trade.orderTitle[2]))]):t._e(),t._v(" "),i("i",{staticClass:"arrow"})]):t._e()]):t._e(),t._v(" "),i("div",{staticClass:"title"},[i("div",{staticClass:"info"},[i("span",{staticClass:"type",class:"B"===e.command?"rise":"drop"},[t._v(t._s(t.dealType(e.command))+" "+t._s(t.coinType(e.variety,2)))]),t._v(" "),i("span",{staticClass:"date"},[t._v(t._s(t.timeFormat(e.entrustTime)))])]),t._v(" "),t.hasBtn?i("button",{staticClass:"btn",attrs:{type:"button"},on:{click:function(i){t.orderCancel(e)}}},[t._v(t._s(t.trade.orderTitle[3])+"\n                ")]):t._e()]),t._v(" "),"entrust"===t.orderType?i("ul",[i("li",{staticClass:"text-box"},[t._v("\n                "+t._s(t.preventError(t.limitPoint,e.variety))+"\n                "),i("span",{staticClass:"explain"},[t._v(t._s(t.trade.orderList[0]))]),t._v(" "),i("span",{staticClass:"value"},[t._v(t._s(t.floatNum(e.price||"0",t.limitPoint[e.variety].price))+" "+t._s(t.coinType(e.variety,1)))])]),t._v(" "),i("li",{staticClass:"text-box"},[i("span",{staticClass:"explain"},[t._v(t._s(t.trade.orderList[1]))]),t._v(" "),i("span",{staticClass:"value"},[t._v(t._s(t.floatNum(e.volume||"0",t.limitPoint[e.variety].volume))+" "+t._s(t.coinType(e.variety,2)))])]),t._v(" "),i("li",{staticClass:"text-box"},[i("span",{staticClass:"explain"},[t._v(t._s(t.trade.orderList[2]))]),t._v(" "),i("span",{staticClass:"value"},[t._v(t._s(t.floatNum(e.dealVolume||"0",t.limitPoint[e.variety].volume))+" "+t._s(t.coinType(e.variety,2)))])]),t._v(" "),e.amount?i("li",{staticClass:"text-box"},[i("span",{staticClass:"explain"},[t._v(t._s(t.trade.orderList[3]))]),t._v(" "),i("span",{staticClass:"value"},[t._v(t._s(t.floatNum(e.amount||"0",t.limitPoint[e.variety].amount))+" "+t._s(t.coinType(e.variety,1)))])]):t._e()]):t._e(),t._v(" "),"history"===t.orderType?i("ul",[i("li",{staticClass:"text-box"},[i("span",{staticClass:"explain"},[t._v(t._s(t.trade.orderList[4]))]),t._v(" "),i("span",{staticClass:"value"},[t._v(t._s(t.floatNum(e.dealPrice||"0",t.limitPoint[e.variety].price))+" "+t._s(t.coinType(e.variety,1)))])]),t._v(" "),i("li",{staticClass:"text-box"},[i("span",{staticClass:"explain"},[t._v(t._s(t.trade.orderList[5]))]),t._v(" "),i("span",{staticClass:"value"},[t._v(t._s(t.floatNum(e.dealVolume||"0",t.limitPoint[e.variety].volume))+" "+t._s(t.coinType(e.variety,2)))])]),t._v(" "),i("li",{staticClass:"text-box"},[i("span",{staticClass:"explain"},[t._v(t._s(t.trade.orderList[3]))]),t._v(" "),i("span",{staticClass:"value"},[t._v(t._s(t.floatNum(e.dealAmount||"0",t.limitPoint[e.variety].volume))+" "+t._s(t.coinType(e.variety,1)))])])]):t._e()])}))},staticRenderFns:[]};var u=i("VU/8")(l,c,!1,function(t){i("DHRo")},"data-v-588116cc",null);e.a=u.exports}});