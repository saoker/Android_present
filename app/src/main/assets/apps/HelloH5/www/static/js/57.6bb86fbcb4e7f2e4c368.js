webpackJsonp([57],{wlJ4:function(a,t){},"wpd+":function(a,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=e("Dd8w"),s=e.n(n),o=e("NYxO"),i=e("6kks"),d=e("aM/G"),r={components:{accountNav:i.a},data:function(){return{pageTitle:"",chooseBank:!1,userName:"",choosedbankPlace:"",choosedbankKind:"",bankKindList:[],bankBranch:"",bankCodeFor:""}},computed:s()({},Object(o.mapState)({addCard:function(a){return a.lang.language.addCard}})),created:function(){this.choosedbankPlace=this.addCard.htmlContent[2],this.pageTitle=this.chooseBank?this.addCard.title[1]:this.addCard.title[0],this.getName()},methods:{chooseBankType:function(){this.chooseBank=!0,this.pageTitle=this.addCard.title[1],this.getBankKind()},choosedCard:function(a,t){var e=this;setTimeout(function(){e.chooseBank=!1,e.choosedbankPlace=t,e.choosedbankKind=a,e.pageTitle=e.addCard.title[0]},300)},hidePanel:function(){this.chooseBank=!1,this.pageTitle=this.addCard.title[0]},getBankKind:function(){var a=this;Object(d.i)(["_0"]).then(function(t){200===t.code&&t.data&&0!=t.data.length?a.bankKindList=t.data:a.$vn.toast.show(t.message)})},getName:function(){var a=this.isLogin();a||this.$vn.toast.show(this.addCard.remind[0]),this.userName=a.firstName},formattingNum:function(){this.bankCodeFor=this.bankCodeFor.replace(/\s/g,"").replace(/(.{4})/g,"$1 ")},submitMess:function(){var a=this;if(this.userName)if(this.choosedbankKind)if(this.bankBranch)if(this.bankCodeFor){var t={desc:this.bankBranch,bankNo:this.bankCodeFor.replace(/\s|\xA0/g,""),channel:this.choosedbankKind};Object(d.d)(t).then(function(t){200===t.code&&(a.$vn.toast.show(a.addCard.remind[5]),setTimeout(function(){a.$f7router.refreshPage()},2e3))})}else this.$vn.toast.show(this.addCard.remind[4]);else this.$vn.toast.show(this.addCard.remind[3]);else this.$vn.toast.show(this.addCard.remind[2]);else this.$vn.toast.show(this.addCard.remind[1])}}},c={render:function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("f7-page",{staticClass:"main-body"},[e("account-nav",{attrs:{pageTitle:a.pageTitle}}),a._v(" "),e("transition",{attrs:{name:"slide-up"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:a.chooseBank,expression:"chooseBank"}],staticClass:"bank-list",on:{click:a.hidePanel}},a._l(a.bankKindList,function(t){return e("div",{staticClass:"bank-item"},[e("input",{attrs:{id:"item1",type:"radio",name:"item"},domProps:{value:t.code},on:{click:function(e){e.stopPropagation(),a.choosedCard(t.code,t.name)}}}),a._v(" "),e("label",{attrs:{for:"item1"}}),a._v(" "),e("span",[a._v(a._s(t.name))])])}))]),a._v(" "),e("div",{staticClass:"card-mess"},[e("p",{staticClass:"name"},[a._v(a._s(a.userName))]),a._v(" "),e("f7-link",{staticClass:"choose-card",on:{click:a.chooseBankType},model:{value:a.choosedbankKind,callback:function(t){a.choosedbankKind=t},expression:"choosedbankKind"}},[e("span",[a._v(a._s(a.choosedbankPlace))]),a._v(" "),e("i")]),a._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:a.bankBranch,expression:"bankBranch"}],attrs:{type:"text",placeholder:a.addCard.htmlContent[0]},domProps:{value:a.bankBranch},on:{input:function(t){t.target.composing||(a.bankBranch=t.target.value)}}}),a._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:a.bankCodeFor,expression:"bankCodeFor"}],attrs:{type:"text",placeholder:a.addCard.htmlContent[1]},domProps:{value:a.bankCodeFor},on:{input:[function(t){t.target.composing||(a.bankCodeFor=t.target.value)},a.formattingNum]}})],1),a._v(" "),e("button",{staticClass:"btn-submit",on:{click:a.submitMess}},[a._v(a._s(a.addCard.htmlContent[3]))])],1)},staticRenderFns:[]};var h=e("VU/8")(r,c,!1,function(a){e("wlJ4")},"data-v-1556fc40",null);t.default=h.exports}});