webpackJsonp([62],{eerB:function(t,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var e=s("Dd8w"),a=s.n(e),n=s("NYxO"),c=s("DNVT"),o=(s("mgS3"),s("HKXE")),r=s("aM/G"),l=s("g5qD"),d=s("ipgl"),u={name:"index",components:{IndexHead:o.a},computed:a()({},Object(n.mapState)({home:function(t){return t.lang.language.home},textUint:function(t){return t.lang.language.tradeList.html[1]}})),data:function(){return{unit:"",marketList:[],markObj:{},markList:[],coinList:[],myOptList:[],listImg:[],noticeItem:[],timer:"",tradePrecis:{},baseList:[]}},filters:{codeFist:function(t){return t?(t=t.split("_"))[2]:"---"},codeNext:function(t){return t?(t=t.split("_"))[1]:"---"}},created:function(){var t=this.isLogin();this.hasLogin=!!t,this.hasLogin&&(this.userCode=t.code,this.getOptList())},mounted:function(){var t=this;Object(l.c)().then(function(i){t.tradePrecis=i||{},t.getBaseCoinList()}),this.getBannerData(),this.gatNoticeData(),d.i&&(clearInterval(this.timer),this.timer=setInterval(function(){t.getAllcoin()},d.j))},methods:{bannerSwiper:function(){new c.a(".banner",{loop:!0,speed:600,autoHeight:!0,autoplay:{delay:3e3,stopOnLastSlide:!1,disableOnInteraction:!1},pagination:{el:".swiper-pagination"},observer:!0})},noticeSwiper:function(){new c.a(".placard-box",{direction:"vertical",loop:!0,speed:600,autoplay:{delay:2e3,stopOnLastSlide:!1,disableOnInteraction:!1},observer:!0})},getBannerData:function(){var t=this;Object(r.F)(["_0"]).then(function(i){200===i.code&&i.data&&(t.listImg=i.data,setTimeout(function(){t.bannerSwiper()},50))})},gatNoticeData:function(){var t=this;Object(r.Q)(["0-3"]).then(function(i){200===i.code&&i.data&&i.data.content&&(t.noticeItem=i.data.content,setTimeout(function(){t.noticeSwiper()},50))})},coinTab:function(t){this.unit=t,this.coinList=this.markObj[this.unit]||[]},getOptList:function(){var t=this;Object(r.S)({userCode:this.userCode}).then(function(i){200===i.code&&i.data&&(t.myOptList=i.data,t.marketGroup(t.markList))})},coinType:function(t,i){return(t=t||"").split("_")[i]||""},getBaseCoinList:function(){var t=this;Object(l.e)().then(function(i){t.baseList=i,t.unit=t.baseList[0],t.getAllcoin()})},marketGroup:function(t){var i=this;this.markList=t,this.markObj.my=[],this.baseList.forEach(function(t){i.markObj[t]=[]}),t.forEach(function(t){i.myOptList.indexOf(t.code)>=0?t.isMyOpt=!0:t.isMyOpt=!1,i.preventError(i.tradePrecis,t.code),t.precis=i.tradePrecis[t.code].price,t.rising=i.floatNum(100*i.div(i.minus(t.price,t.refPrice),t.refPrice),2);var s=i.coinType(t.code,1);i.markObj[s]&&i.markObj[s].push(t),i.myOptList.indexOf(t.code)>=0&&i.markObj.my.push(t)}),this.coinList=this.markObj[this.unit]||[],this.isMyOpt=this.myOptList.indexOf(this.code)>=0},getAllcoin:function(){var t=this;Object(r._4)().then(function(i){200===i.code&&""!=i.data&&t.marketGroup(i.data)})},linkUrl:function(t){var i=t.code.split("_");return"/tradeChart?coinName="+i[2]+"&exchange="+i[0]+"&unit="+i[1]+"&my="+this.unit},goMessage:function(t){0===t.indexOf("http://")||0===t.indexOf("https://")?window.location.href=t:this.$f7Router.navigate(""+t)}},beforeDestroy:function(){clearInterval(this.timer),this.timer=""}},p={render:function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("f7-page",{staticClass:"index-body"},[s("index-head"),t._v(" "),s("div",{staticClass:"scroll-body"},[s("div",{staticClass:"swiper-container banner"},[s("div",{staticClass:"swiper-wrapper"},t._l(t.listImg,function(i){return s("span",{staticClass:"swiper-slide",style:{backgroundImage:"url("+i.imgPath+")"},on:{click:function(s){t.goMessage(i.linkPath)}}})})),t._v(" "),s("div",{staticClass:"swiper-pagination swiper-pagination-white"})]),t._v(" "),s("div",{staticClass:"placard"},[s("div",{staticClass:"placard-icon"}),t._v(" "),s("div",{staticClass:"placard-box swiper-container"},[s("ul",{staticClass:"swiper-wrapper"},t._l(t.noticeItem,function(i,e){return s("li",{key:e,staticClass:"swiper-slide text"},[s("a",{attrs:{href:"/siteNoticeDetail?id="+i.id}},[t._v(t._s(i.title))])])}))])]),t._v(" "),s("div",{staticClass:"trade-center"},[s("div",{staticClass:"above"},[s("div",{staticClass:"select-box tab"},[t._l(t.baseList,function(i){return s("span",{staticClass:"tab-list",class:{on:t.unit===i},on:{click:function(s){t.coinTab(i)}}},[t._v("\n                            "+t._s(i)+"\n                        "),s("i",{staticClass:"line"})])}),t._v(" "),t.hasLogin?s("span",{staticClass:"tab-list",class:{on:"my"===t.unit},on:{click:function(i){t.coinTab("my")}}},[t._v("\n                            "+t._s(t.textUint)+"\n                        "),s("i",{staticClass:"line"})]):t._e()],2)]),t._v(" "),s("div",{staticClass:"sort"},[s("span",{staticClass:"sort-currency"},[t._v(t._s(t.home.coinInfo[0]))]),t._v(" "),s("span",{staticClass:"sort-gains"},[t._v(t._s(t.home.coinInfo[1])+" (%)")])]),t._v(" "),s("ul",{staticClass:"gains-item"},t._l(t.coinList,function(i){return s("li",{key:i.code},[s("a",{attrs:{href:t.linkUrl(i)}},[s("div",{staticClass:"left"},[s("div",{staticClass:"title-box"},[s("i",{staticClass:"coin-icon",class:"coin-"+i.code.split("_")[2].toLocaleLowerCase()}),t._v(" "),s("div",{staticClass:"bb"},[t._v(t._s(t._f("codeFist")(i.code)))]),t._v(" "),s("div",{staticClass:"slash"},[t._v("/")]),t._v(" "),s("div",{staticClass:"fb"},[t._v(t._s(t._f("codeNext")(i.code)))])]),t._v(" "),s("p",{staticClass:"max-price"},[s("span",[t._v(t._s(t.home.coinList[0]))]),t._v(" "),s("span",[t._v(" "+t._s(t.floatNum(i.high,i.precis)))])])]),t._v(" "),s("div",{staticClass:"center"},[s("div",{staticClass:"all-number"},[t._v(t._s(t.moneyFormat(i.price,i.precis)))]),t._v(" "),s("p",{staticClass:"min-price"},[s("span",[t._v(t._s(t.home.coinList[1]))]),t._v(" "),s("span",[t._v(" "+t._s(t.floatNum(i.low),i.precis))])])]),t._v(" "),s("div",{staticClass:"right"},[s("span",{class:{rise:i.rising>0,drop:i.rising<0}},[s("span",{directives:[{name:"show",rawName:"v-show",value:i.rising>0,expression:"item.rising > 0"}]},[t._v("+")]),t._v("\n                                    "+t._s(i.rising||"0.00%")+"\n                                "),s("span",{directives:[{name:"show",rawName:"v-show",value:1*i.rising!=0,expression:"item.rising * 1 !== 0"}]},[t._v("%")])])])])])}))])])],1)},staticRenderFns:[]};var v=s("VU/8")(u,p,!1,function(t){s("sV4x")},"data-v-0683631e",null);i.default=v.exports},sV4x:function(t,i){}});