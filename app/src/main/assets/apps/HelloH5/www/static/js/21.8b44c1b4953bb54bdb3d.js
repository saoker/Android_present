webpackJsonp([21],{BwRL:function(t,a){},"K/M0":function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=e("Dd8w"),s=e.n(i),n=e("NYxO"),o=e("6kks"),c=e("A8ST"),r=e("aM/G"),d=null,h={components:{accountNav:o.a,chooseCard:c.a},data:function(){return{pageTitle:"",placeholderWithdraw:"",dataParma:{},bankId:"",minAssets:"",canWithdrawNum:"",amount:"",rate:"",widthdrawCharge:"0",verifyType:"",captcha:"",time:60,assetPassword:"",type:"",codeDisabled:!1,isGetCode:!1}},computed:s()({codeText:function(){return this.codeDisabled?this.time+"s":this.isGetCode?this.accountWithdraw.htmlContent[7]:this.accountWithdraw.htmlContent[3]}},Object(n.mapState)({accountWithdraw:function(t){return t.lang.language.accountWithdraw}})),created:function(){var t=this;this.setTitle(this.accountWithdraw.title),this.pageTitle=this.accountWithdraw.title,setTimeout(function(){t.dataParma.coin=t.$f7Router.currentRoute.query.coin,t.dataParma.code=t.$f7router.currentRoute.query.code,t.getLimit(),t.getCanUseFund(),t.getWithdrawRate()},50)},methods:{countDown:function(t){var a=this;this.time=60,d&&clearInterval(d),d=setInterval(function(){if((t-=1)<=0)return clearInterval(d),void(a.codeDisabled=!1);a.time=t},1e3)},bankChecked:function(t){this.bankId=t},getLimit:function(){var t=this,a=[this.dataParma.coin,"CURRENCY_WITHDRAW_MIN"];Object(r._17)(a).then(function(a){if(200===a.code&&a.data){var e=a.data.defValue;t.minAssets=e,t.placeholderWithdraw=t.accountWithdraw.hintText[1]+" "+e+" "+t.dataParma.coin}})},getCanUseFund:function(){var t=this,a=[this.dataParma.code,this.dataParma.coin];Object(r._49)(a).then(function(a){200===a.code&&a.data&&(t.canWithdrawNum=a.data.tag.VND_0-a.data.tag.VND_1)})},getWithdrawRate:function(){var t=this,a=[this.dataParma.coin,"CURRENCY_WITHDRAW_RATE"];Object(r._50)(a).then(function(a){200===a.code&&a.data&&""!=a.data?t.rate=a.data.defValue:t.$vn.toast.show(a.message)})},serveCharge:function(){this.amount=this.amount.replace(/[^\d]/g,"").replace(/^0+/,""),this.amount>this.canWithdrawNum&&(this.amount=this.canWithdrawNum),this.widthdrawCharge=this.moneyFormat(this.rate*this.amount)},verMinFund:function(){""!==this.amount&&this.amount<this.minAssets&&this.$vn.toast.show(this.accountWithdraw.hintText[0]+": "+this.minAssets+" "+this.dataParma.coin)},getCode:function(){var t=this;Object(r._13)([],this.$refs.getCode).then(function(a){if(200===a.code&&a.data&&""!=a.data){var e=void 0;"mobile"==a.data.type&&(t.type="0",e=t.accountWithdraw.hintText[2]),"Email"==a.data.type&&(t.type="1",e=t.accountWithdraw.hintText[8]),t.codeDisabled||(t.countDown(60),t.$vn.toast.show(e)),t.codeDisabled=!0,t.isGetCode=!0}else t.$vn.toast.show(a.message)})},sumbitBtn:function(){var t=this;if(this.bankId)if(this.amount)if(this.captcha)if(this.assetPassword){var a={amount:this.amount,payAccount:this.bankId,verifyType:this.type,captcha:this.captcha,assetPassword:this.assetPassword};Object(r._40)(this.$refs.sumbit,a).then(function(a){200===a.code&&a.data&&""!=a.data&&(t.$vn.toast.show(t.accountWithdraw.hintText[7]),t.$f7router.refreshPage())})}else this.$vn.toast.show(this.accountWithdraw.hintText[6]);else this.$vn.toast.show(this.accountWithdraw.hintText[5]);else this.$vn.toast.show(this.accountWithdraw.hintText[4]);else this.$vn.toast.show(this.accountWithdraw.hintText[3])},goRecord:function(){this.$f7router.navigate("/withdrawRecord?coin="+this.dataParma.coin)}}},u={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("f7-page",{staticClass:"main-body"},[e("account-nav",{attrs:{pageTitle:t.pageTitle}},[e("span",{staticClass:"go-record",attrs:{slot:"check-record"},on:{click:t.goRecord},slot:"check-record"})]),t._v(" "),e("div",{staticClass:"scroll-body"},[e("div",{staticClass:"withdraw-container"},[e("div",{staticClass:"withdraw-item"},[e("span",{staticClass:"can-use"},[t._v(t._s(t.accountWithdraw.htmlContent[0])+" ")]),t._v(" "),e("em",[t._v(" "+t._s(t.canWithdrawNum)+" ")]),t._v(t._s(t.dataParma.coin)+"\n            ")]),t._v(" "),e("choose-card",{attrs:{dataParma:t.dataParma},on:{"choose-bank":t.bankChecked}}),t._v(" "),e("div",{staticClass:"withdraw-item withdraw-num"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.amount,expression:"amount"}],attrs:{type:"text",placeholder:t.placeholderWithdraw},domProps:{value:t.amount},on:{input:[function(a){a.target.composing||(t.amount=a.target.value)},t.serveCharge],blur:t.verMinFund}}),t._v(" "),e("span",{staticClass:"intro"},[t._v(t._s(t.dataParma.coin))])]),t._v(" "),e("p",{staticClass:"service-charge"},[e("span",[t._v(t._s(t.accountWithdraw.htmlContent[1])),t._v("ï¼š")]),e("em",[t._v(t._s(t.widthdrawCharge))]),t._v(" "+t._s(t.dataParma.coin))]),t._v(" "),e("div",{staticClass:"withdraw-item"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.captcha,expression:"captcha"}],attrs:{type:"text",placeholder:t.accountWithdraw.htmlContent[2]},domProps:{value:t.captcha},on:{input:function(a){a.target.composing||(t.captcha=a.target.value)}}}),t._v(" "),e("span",{ref:"getCode",staticClass:"intro get-code",on:{click:t.getCode}},[t._v(t._s(t.codeText)+" ")])]),t._v(" "),e("div",{staticClass:"withdraw-item"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.assetPassword,expression:"assetPassword"}],attrs:{type:"password",placeholder:t.accountWithdraw.htmlContent[4]},domProps:{value:t.assetPassword},on:{input:function(a){a.target.composing||(t.assetPassword=a.target.value)}}})])],1),t._v(" "),e("button",{ref:"sumbit",staticClass:"btn-affirm",on:{click:t.sumbitBtn}},[t._v(t._s(t.accountWithdraw.htmlContent[5])+"\n            ")])])],1)},staticRenderFns:[]};var m=e("VU/8")(h,u,!1,function(t){e("BwRL")},"data-v-cca89770",null);a.default=m.exports}});